<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ColorPicker?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.2"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="HelloController"
            style="-fx-background-color: #f0f0f0;">

    <!-- Верхняя панель: заголовок -->
    <top>
        <HBox alignment="CENTER" style="-fx-background-color: #4a6fa5;">
            <Label text="Рисовалка фигур - Фабричный метод + Абстрактный класс"
                   textFill="white"
                   style="-fx-font-weight: bold;">
                <font>
                    <Font name="Arial" size="18" />
                </font>
                <padding>
                    <Insets top="10" bottom="10" />
                </padding>
            </Label>
        </HBox>
    </top>

    <!-- Левая панель: инструменты -->
    <left>
        <VBox spacing="15" style="-fx-background-color: #e8e8e8; -fx-padding: 15;">
            <VBox spacing="5">
                <Label text="Выбор фигуры:" style="-fx-font-weight: bold;" />
                <ComboBox fx:id="shapeComboBox" prefWidth="150" />
            </VBox>

            <VBox spacing="5">
                <Label text="Количество сторон:" style="-fx-font-weight: bold;" />
                <Spinner fx:id="sidesSpinner" prefWidth="150" />
            </VBox>

            <VBox spacing="5">
                <Label text="Цвет фигуры:" style="-fx-font-weight: bold;" />
                <ColorPicker fx:id="colorPicker" />
            </VBox>

            <CheckBox fx:id="filledCheckbox" text="Заливка фигуры" />

            <VBox spacing="5">
                <Label text="Режим работы:" style="-fx-font-weight: bold;" />
                <RadioButton fx:id="drawModeRadio" text="Рисование" toggleGroup="$modeToggleGroup" selected="true" />
                <RadioButton fx:id="moveModeRadio" text="Перемещение" toggleGroup="$modeToggleGroup" />
                <ToggleGroup fx:id="modeToggleGroup" />
            </VBox>

            <!-- Кнопки управления -->
            <VBox spacing="10" style="-fx-padding: 20 0 0 0;">
                <Button fx:id="saveButton" text="Сохранить в JSON"
                        prefWidth="150"
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold;" />

                <Button fx:id="loadButton" text="Загрузить из JSON"
                        prefWidth="150"
                        style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold;" />

                <Button fx:id="clearButton" text="Очистить холст"
                        prefWidth="150"
                        style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-font-weight: bold;" />
            </VBox>

            <!-- Информация -->
            <VBox spacing="5" style="-fx-padding: 20 0 0 0;">
                <Label text="Инструкция:" style="-fx-font-weight: bold;" />
                <Label text="1. Выберите фигуру и цвет" />
                <Label text="2. Нажмите на холст и тяните" />
                <Label text="3. Сохраняйте/загружайте фигуры" />
            </VBox>
        </VBox>
    </left>

    <!-- Центр: холст для рисования -->
    <center>
        <Canvas fx:id="drawingCanvas" width="700" height="600"
                style="-fx-background-color: white; -fx-border-color: #ccc; -fx-border-width: 2;" />
    </center>

    <!-- Нижняя панель: статус -->
    <bottom>
        <HBox alignment="CENTER" style="-fx-background-color: #4a6fa5; -fx-padding: 5;">
            <Label text="Рисовалка фигур v1.0 | Режим: Рисование"
                   textFill="white"
                   fx:id="statusLabel" />
        </HBox>
    </bottom>

</BorderPane>